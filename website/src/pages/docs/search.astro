---
import DocsLayout from '../../layouts/DocsLayout.astro';

const description = "Search and replace in JSON documents. Find keys, values, or patterns with regex support. Replace across entire JSON structure efficiently.";
---

<DocsLayout title="Search & Replace" description={description} currentDoc="/docs/search">
  <article class="prose prose-invert max-w-none">
    <!-- Header -->
    <div class="mb-12">
      <h1 class="text-4xl font-bold text-white mb-4">Search & Replace</h1>
      <p class="text-xl text-brand-gray">
        Find and replace content throughout your JSON data.
      </p>
    </div>

    <!-- Quick Search -->
    <section class="mb-12">
      <h2 class="text-2xl font-semibold text-white mb-4">Finding Content</h2>
      <p class="text-brand-gray mb-4">
        Press <kbd class="px-2 py-1 bg-brand-dark rounded border border-brand-gray-dark/20">Cmd/Ctrl + F</kbd> to open the search panel. The search works in Text mode for full text searching.
      </p>

      <div class="p-4 bg-brand-dark rounded-xl border border-brand-gray-dark/20">
        <h3 class="text-white font-medium mb-3">Search Options</h3>
        <ul class="space-y-3 text-sm text-brand-gray">
          <li class="flex items-center gap-3">
            <div class="w-5 h-5 bg-brand-surface border border-brand-gray-dark/50 rounded flex items-center justify-center">
              <svg class="w-3 h-3 text-brand-orange" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7" />
              </svg>
            </div>
            <span><strong class="text-white">Case Sensitive</strong> - Match exact letter casing</span>
          </li>
          <li class="flex items-center gap-3">
            <div class="w-5 h-5 bg-brand-surface border border-brand-gray-dark/50 rounded flex items-center justify-center">
              <svg class="w-3 h-3 text-brand-orange" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7" />
              </svg>
            </div>
            <span><strong class="text-white">Whole Word</strong> - Match complete words only</span>
          </li>
          <li class="flex items-center gap-3">
            <div class="w-5 h-5 bg-brand-surface border border-brand-gray-dark/50 rounded flex items-center justify-center">
              <svg class="w-3 h-3 text-brand-orange" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7" />
              </svg>
            </div>
            <span><strong class="text-white">Use Regex</strong> - Use regular expression patterns</span>
          </li>
        </ul>
      </div>
    </section>

    <!-- Replace -->
    <section class="mb-12">
      <h2 class="text-2xl font-semibold text-white mb-4">Replacing Content</h2>
      <p class="text-brand-gray mb-4">
        Press <kbd class="px-2 py-1 bg-brand-dark rounded border border-brand-gray-dark/20">Cmd/Ctrl + H</kbd> to open the find and replace panel.
      </p>

      <div class="space-y-4">
        <div class="p-4 bg-brand-dark rounded-xl border border-brand-gray-dark/20">
          <h3 class="text-white font-medium mb-2">Replace Single</h3>
          <p class="text-sm text-brand-gray">
            Find the next match and replace it with your replacement text. Click "Replace" or press <kbd class="px-1.5 py-0.5 bg-brand-darker rounded text-xs">Enter</kbd> after typing your replacement.
          </p>
        </div>

        <div class="p-4 bg-brand-dark rounded-xl border border-brand-gray-dark/20">
          <h3 class="text-white font-medium mb-2">Replace All</h3>
          <p class="text-sm text-brand-gray">
            Replace all occurrences of the search term at once. Click "Replace All" to perform a bulk replacement.
          </p>
          <div class="mt-2 p-2 bg-yellow-500/10 border border-yellow-500/20 rounded text-xs text-yellow-500">
            Tip: Use undo (Cmd/Ctrl + Z) after Replace All if you need to revert changes.
          </div>
        </div>
      </div>
    </section>

    <!-- Regular Expressions -->
    <section class="mb-12">
      <h2 class="text-2xl font-semibold text-white mb-4">Regular Expressions</h2>
      <p class="text-brand-gray mb-4">
        Enable "Use Regex" for powerful pattern matching:
      </p>

      <div class="overflow-x-auto">
        <table class="w-full text-sm">
          <thead>
            <tr class="border-b border-brand-gray-dark/20">
              <th class="text-left py-3 text-brand-gray font-medium">Pattern</th>
              <th class="text-left py-3 text-brand-gray font-medium">Description</th>
              <th class="text-left py-3 text-brand-gray font-medium">Example</th>
            </tr>
          </thead>
          <tbody class="text-brand-gray">
            <tr class="border-b border-brand-gray-dark/10">
              <td class="py-3"><code class="px-1.5 py-0.5 bg-brand-darker rounded text-xs">.</code></td>
              <td>Match any character</td>
              <td><code class="text-xs">a.c</code> matches "abc", "adc"</td>
            </tr>
            <tr class="border-b border-brand-gray-dark/10">
              <td class="py-3"><code class="px-1.5 py-0.5 bg-brand-darker rounded text-xs">*</code></td>
              <td>Match zero or more</td>
              <td><code class="text-xs">ab*c</code> matches "ac", "abc", "abbc"</td>
            </tr>
            <tr class="border-b border-brand-gray-dark/10">
              <td class="py-3"><code class="px-1.5 py-0.5 bg-brand-darker rounded text-xs">+</code></td>
              <td>Match one or more</td>
              <td><code class="text-xs">ab+c</code> matches "abc", "abbc"</td>
            </tr>
            <tr class="border-b border-brand-gray-dark/10">
              <td class="py-3"><code class="px-1.5 py-0.5 bg-brand-darker rounded text-xs">\d</code></td>
              <td>Match any digit</td>
              <td><code class="text-xs">\d+</code> matches "123", "42"</td>
            </tr>
            <tr class="border-b border-brand-gray-dark/10">
              <td class="py-3"><code class="px-1.5 py-0.5 bg-brand-darker rounded text-xs">\w</code></td>
              <td>Match word character</td>
              <td><code class="text-xs">\w+</code> matches "hello", "user123"</td>
            </tr>
            <tr>
              <td class="py-3"><code class="px-1.5 py-0.5 bg-brand-darker rounded text-xs">[...]</code></td>
              <td>Character class</td>
              <td><code class="text-xs">[aeiou]</code> matches vowels</td>
            </tr>
          </tbody>
        </table>
      </div>
    </section>

    <!-- Navigation Shortcuts -->
    <section class="mb-12">
      <h2 class="text-2xl font-semibold text-white mb-4">Keyboard Shortcuts</h2>

      <div class="overflow-x-auto">
        <table class="w-full text-sm">
          <thead>
            <tr class="border-b border-brand-gray-dark/20">
              <th class="text-left py-3 text-brand-gray font-medium">Action</th>
              <th class="text-left py-3 text-brand-gray font-medium">Mac</th>
              <th class="text-left py-3 text-brand-gray font-medium">Windows/Linux</th>
            </tr>
          </thead>
          <tbody class="text-brand-gray">
            <tr class="border-b border-brand-gray-dark/10">
              <td class="py-3 text-white">Open Find</td>
              <td><kbd class="px-1.5 py-0.5 bg-brand-darker rounded text-xs">⌘ F</kbd></td>
              <td><kbd class="px-1.5 py-0.5 bg-brand-darker rounded text-xs">Ctrl F</kbd></td>
            </tr>
            <tr class="border-b border-brand-gray-dark/10">
              <td class="py-3 text-white">Open Replace</td>
              <td><kbd class="px-1.5 py-0.5 bg-brand-darker rounded text-xs">⌘ H</kbd></td>
              <td><kbd class="px-1.5 py-0.5 bg-brand-darker rounded text-xs">Ctrl H</kbd></td>
            </tr>
            <tr class="border-b border-brand-gray-dark/10">
              <td class="py-3 text-white">Find Next</td>
              <td><kbd class="px-1.5 py-0.5 bg-brand-darker rounded text-xs">Enter</kbd> or <kbd class="px-1.5 py-0.5 bg-brand-darker rounded text-xs">⌘ G</kbd></td>
              <td><kbd class="px-1.5 py-0.5 bg-brand-darker rounded text-xs">Enter</kbd> or <kbd class="px-1.5 py-0.5 bg-brand-darker rounded text-xs">F3</kbd></td>
            </tr>
            <tr class="border-b border-brand-gray-dark/10">
              <td class="py-3 text-white">Find Previous</td>
              <td><kbd class="px-1.5 py-0.5 bg-brand-darker rounded text-xs">⇧ Enter</kbd></td>
              <td><kbd class="px-1.5 py-0.5 bg-brand-darker rounded text-xs">Shift Enter</kbd></td>
            </tr>
            <tr>
              <td class="py-3 text-white">Close Search</td>
              <td><kbd class="px-1.5 py-0.5 bg-brand-darker rounded text-xs">Esc</kbd></td>
              <td><kbd class="px-1.5 py-0.5 bg-brand-darker rounded text-xs">Esc</kbd></td>
            </tr>
          </tbody>
        </table>
      </div>
    </section>

    <!-- Tips -->
    <section class="mb-12">
      <h2 class="text-2xl font-semibold text-white mb-4">Tips</h2>

      <ul class="space-y-3 text-brand-gray">
        <li class="flex items-start gap-3">
          <svg class="w-5 h-5 text-brand-orange flex-shrink-0 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
          </svg>
          <span>Search works best in Text mode where you can see the full JSON content</span>
        </li>
        <li class="flex items-start gap-3">
          <svg class="w-5 h-5 text-brand-orange flex-shrink-0 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
          </svg>
          <span>Use JSON Query for more advanced filtering and transformations</span>
        </li>
        <li class="flex items-start gap-3">
          <svg class="w-5 h-5 text-brand-orange flex-shrink-0 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
          </svg>
          <span>Matches are highlighted in the editor for easy navigation</span>
        </li>
      </ul>
    </section>

    <!-- Navigation -->
    <div class="flex justify-between pt-8 border-t border-brand-gray-dark/20">
      <a href="/docs/query" class="group flex items-center gap-2 text-brand-gray hover:text-white transition-colors">
        <svg class="w-4 h-4 group-hover:-translate-x-1 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
        </svg>
        Previous: JSON Query
      </a>
      <a href="/docs/repair" class="group flex items-center gap-2 text-brand-orange hover:text-brand-orange-dark transition-colors">
        Next: JSON Repair
        <svg class="w-4 h-4 group-hover:translate-x-1 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
        </svg>
      </a>
    </div>
  </article>
</DocsLayout>
